<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagamento - Conexo</title>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Google Fonts: Inter & Source Code Pro -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Source+Code+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Main & Payment Stylesheets -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/pagamento-style.css">
    <script>
      (function() {
        const theme = localStorage.getItem('theme') || 'dark-theme'; 
        document.documentElement.className = theme;
      })();
    </script>
</head>
<body class="dark-theme">
    <!-- Input de arquivo oculto para o background do cartão -->
    <input type="file" id="card-bg-input" accept="image/*" class="hidden">

    <div class="main-wrapper">
        <!-- Sidebar -->
        <div id="sidebar-container"></div>
        
        <!-- Conteúdo Principal -->
        <main class="content-payment">
            <div class="payment-grid">
                <!-- Coluna de Resumo do Pedido -->
                <div class="summary-column">
                    <h2 class="payment-title">Resumo da Compra</h2>
                    <div class="summary-card">
                        <div class="summary-game-info">
                            <img id="game-image" src="https://placehold.co/128x72/1e1e1e/3a3b3c?text=Jogo" alt="Imagem do Jogo">
                            <div>
                                <h3 id="game-name">Nome do Jogo</h3>
                                <p id="game-price">R$ 0,00</p>
                            </div>
                        </div>
                        <div class="summary-details">
                            <div class="summary-row">
                                <span>Subtotal</span>
                                <span id="summary-price">R$ 0,00</span>
                            </div>
                            <div class="summary-row">
                                <span>Taxas e Impostos</span>
                                <span>R$ 0,00</span>
                            </div>
                            <div class="summary-total">
                                <span>Total</span>
                                <span id="total-price">R$ 0,00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Coluna do Formulário de Cartão -->
                <div class="form-column">
                     <div class="card-visual-wrapper">
                        <div class="card-item" id="interactive-card">
                            <div class="card-item__side -front">
                                <div class="card-item__cover">
                                    <img src="https://images.unsplash.com/photo-1516339901601-2e1b62dc0c45?q=80&w=800&auto=format&fit=crop" class="card-item__bg" id="card-bg-front">
                                </div>
                                <div class="card-item__wrapper">
                                    <div class="card-item__top">
                                        <button id="change-card-bg-btn" class="card-item__chip-btn" title="Alterar plano de fundo">
                                            <i class="fa-solid fa-image"></i>
                                        </button>
                                        <div class="card-item__type">
                                            <img id="card-type-img" src="" alt="Bandeira do Cartão" class="card-item__typeImg">
                                        </div>
                                    </div>
                                    <div class="card-item__number" id="card-number-display">#### #### #### ####</div>
                                    <div class="card-item__content">
                                        <div class="card-item__info">
                                            <div class="card-item__holder">Titular do Cartão</div>
                                            <div class="card-item__name" id="card-name-display">NOME COMPLETO</div>
                                        </div>
                                        <div class="card-item__date">
                                            <div class="card-item__dateTitle">Validade</div>
                                            <div class="card-item__dateItem" id="card-expiry-display"><span>MM</span>/<span>YY</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-item__side -back">
                                <div class="card-item__cover"><img src="https://images.unsplash.com/photo-1516339901601-2e1b62dc0c45?q=80&w=800&auto=format&fit=crop" class="card-item__bg" id="card-bg-back"></div>
                                <div class="card-item__band"></div>
                                <div class="card-item__cvv">
                                    <div class="card-item__cvvTitle">CVC</div>
                                    <div class="card-item__cvvBand" id="card-cvc-display"></div>
                                    <div class="card-item__type"><img id="card-type-img-back" src="" alt="Bandeira do Cartão" class="card-item__typeImg"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="payment-form-container">
                        <form id="payment-form" class="payment-form">
                            <div class="form-group">
                                <label for="card-number-input">Número do Cartão</label>
                                <input type="text" id="card-number-input" class="form-control" autocomplete="off">
                            </div>
                            <div class="form-group">
                                <label for="card-name-input">Nome do Titular</label>
                                <input type="text" id="card-name-input" class="form-control" autocomplete="off">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="card-expiry-input">Data de Validade</label>
                                    <input type="text" id="card-expiry-input" class="form-control" placeholder="MM/YY" autocomplete="off">
                                </div>
                                <div class="form-group">
                                    <label for="card-cvc-input">CVV</label>
                                    <input type="text" id="card-cvc-input" class="form-control" autocomplete="off">
                                </div>
                            </div>
                            <button type="submit" class="btn-primary">
                                Finalizar Compra
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast-message" class="toast-message"></div>

    <script src="https://unpkg.com/imask"></script>
    <script type="module" src="../js/main.js"></script>
</body>
</html>